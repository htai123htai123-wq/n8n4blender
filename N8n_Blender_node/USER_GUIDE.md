# N8n Blender插件用户指南

本指南将帮助您快速上手使用N8n Blender插件，实现工作流自动化。

## 目录

1. [安装指南](#安装指南)
2. [快速入门](#快速入门)
3. [界面介绍](#界面介绍)
4. [节点类型](#节点类型)
5. [工作流管理](#工作流管理)
6. [配置选项](#配置选项)
7. [常见问题](#常见问题)
8. [高级用法](#高级用法)

## 安装指南

### 方法一：使用安装脚本（推荐）

1. 解压插件文件到任意目录[]()
2. 运行安装脚本：
   - Windows: 双击 `install.py` 或在命令行运行 `python install.py`
   - macOS/Linux: 在终端运行 `python install.py`
3. 按照提示选择Blender版本
4. 启动Blender，在偏好设置中启用插件

### 方法二：手动安装

1. 启动Blender
2. 进入 `编辑 > 偏好设置 > 插件`
3. 点击 `安装...` 按钮
4. 选择 `N8n_Blender_node_v0.1.0.zip` 文件
5. 在插件列表中找到"N8n Workflow Editor"并勾选启用

### 方法三：使用ZIP包

1. 下载插件ZIP包
2. 按照方法二的步骤安装

## 快速入门

### 创建第一个工作流

1. 启动Blender并启用N8n插件
2. 在3D视图侧边栏中找到"N8n"标签页
3. 点击"新建工作流"按钮
4. 从节点面板拖拽一个"Start"节点到工作区
5. 再拖拽一个"HTTP Request"节点
6. 连接两个节点（从Start节点的输出拖拽到HTTP Request节点的输入）
7. 配置HTTP Request节点的参数：
   - URL: `https://api.example.com/data`
   - 方法: `GET`
8. 点击"执行工作流"按钮测试

### 导入示例工作流

1. 点击"导入工作流"按钮
2. 选择 `examples/sample_workflow.json` 文件
3. 查看导入的工作流结构
4. 根据需要修改节点参数
5. 点击"执行工作流"按钮测试

## 界面介绍

### 主界面

N8n插件界面主要包含以下几个部分：

1. **工具栏** - 包含新建、导入、导出、执行等常用操作
2. **节点面板** - 显示所有可用节点类型
3. **工作区** - 用于创建和编辑工作流
4. **属性面板** - 显示和编辑选中节点的属性
5. **状态栏** - 显示工作流执行状态和日志

### 节点操作

- **添加节点**：从节点面板拖拽到工作区
- **连接节点**：从源节点的输出端口拖拽到目标节点的输入端口
- **删除节点**：选中节点后按Delete键或右键选择删除
- **复制节点**：选中节点后按Ctrl+C/Ctrl+V或右键选择复制/粘贴
- **移动节点**：拖拽节点标题栏

## 节点类型

N8n插件提供了多种节点类型，满足不同的工作流需求：

### 基础节点

- **Start** - 工作流开始节点，每个工作流必须有且只有一个
- **Stop** - 工作流结束节点，用于终止工作流执行

### 触发节点

- **Manual Trigger** - 手动触发工作流执行
- **Schedule Trigger** - 定时触发工作流执行
- **Webhook** - 通过HTTP请求触发工作流执行

### 功能节点

- **HTTP Request** - 发送HTTP请求，支持GET、POST等方法
- **Set** - 设置和修改数据
- **If** - 条件判断，根据条件执行不同分支
- **Switch** - 多路分支，根据值匹配不同分支
- **Merge** - 合并多个数据流
- **Code** - 执行自定义代码

### 特殊节点

- **Function** - 调用预定义函数
- **Function Item** - 对数据项应用函数
- **No Operation** - 空操作，用于测试或占位

## 工作流管理

### 保存和加载

- **保存工作流**：点击工具栏的"保存"按钮或按Ctrl+S
- **加载工作流**：点击工具栏的"打开"按钮或按Ctrl+O
- **导出工作流**：点击"导出"按钮，选择导出格式（JSON或N8n格式）
- **导入工作流**：点击"导入"按钮，选择工作流文件

### 执行工作流

- **完整执行**：点击"执行工作流"按钮执行整个工作流
- **单步执行**：点击"单步执行"按钮逐步执行工作流
- **执行选中节点**：选中节点后右键选择"执行"
- **停止执行**：点击"停止执行"按钮终止正在运行的工作流

### 调试工作流

- **调试模式**：启用调试模式查看详细执行日志
- **节点输出**：查看每个节点的输出数据
- **执行历史**：查看工作流执行历史记录

## 配置选项

### 插件偏好设置

在Blender偏好设置中可以配置以下选项：

1. **API设置**
   - API URL: N8n服务器地址
   - API密钥: 认证密钥
   - 自动连接: 启动时自动连接到N8n服务器

2. **界面设置**
   - 主题: 选择界面主题
   - 语言: 选择界面语言
   - 字体大小: 调整界面字体大小

3. **高级设置**
   - 调试模式: 启用调试输出
   - 自动保存: 定期自动保存工作流
   - 性能优化: 启用性能优化选项

### 节点配置

每个节点都有自己的配置选项，常见的包括：

- **基本参数**：节点名称、描述等
- **输入参数**：节点接收的数据
- **输出参数**：节点输出的数据
- **执行条件**：节点执行的条件
- **错误处理**：节点执行失败时的处理方式

## 常见问题

### 安装问题

**Q: 插件安装后无法启用**
A: 检查Blender版本是否兼容（需要3.5.0+），确保插件文件完整

**Q: 插件界面显示不正常**
A: 尝试重置Blender界面布局，或检查显卡驱动是否最新

### 使用问题

**Q: 工作流执行失败**
A: 检查节点连接是否正确，参数配置是否有效，查看错误日志获取详细信息

**Q: HTTP请求节点无法连接**
A: 检查网络连接，URL是否正确，防火墙设置是否阻止了连接

**Q: 工作流执行速度慢**
A: 尝试启用性能优化选项，减少不必要的节点，优化代码节点中的逻辑

### 性能问题

**Q: 大型工作流导致界面卡顿**
A: 尝试将大型工作流分解为多个小型工作流，或启用"简化模式"

**Q: 内存使用过高**
A: 定期清理执行历史，减少工作流中的数据量

## 高级用法

### 自定义节点

虽然当前版本不支持直接创建自定义节点，但可以通过以下方式扩展功能：

1. 使用Code节点实现自定义逻辑
2. 通过HTTP Request节点调用外部API
3. 使用Function节点调用预定义函数

### 工作流最佳实践

1. **模块化设计**：将复杂工作流分解为可重用的子工作流
2. **错误处理**：为可能失败的操作添加错误处理节点
3. **数据验证**：使用If节点验证数据有效性
4. **性能优化**：避免不必要的循环和数据处理
5. **文档记录**：为工作流和节点添加描述和注释

### 与其他Blender插件集成

N8n插件可以与其他Blender插件协同工作：

1. **渲染插件**：自动化渲染流程
2. **建模插件**：批量处理模型
3. **动画插件**：自动化动画制作
4. **材质插件**：批量应用材质

### 外部API集成

通过HTTP Request节点，可以与各种外部服务集成：

1. **云存储**：上传/下载文件
2. **通知服务**：发送邮件/短信通知
3. **数据库**：读写数据
4. **Web服务**：调用REST API

## 更多资源

- [官方文档](https://github.com/your-repo/n8n-blender-plugin/wiki)
- [视频教程](https://www.youtube.com/playlist?list=your-playlist)
- [社区论坛](https://forum.example.com/n8n-blender)
- [示例工作流库](https://github.com/your-repo/n8n-blender-examples)

## 技术支持

如果您遇到问题或需要帮助，可以通过以下方式获取支持：

1. 提交Issue到GitHub仓库
2. 发送邮件到support@example.com
3. 加入社区Discord服务器
4. 查看常见问题解答

---

感谢您使用N8n Blender插件！祝您工作愉快！